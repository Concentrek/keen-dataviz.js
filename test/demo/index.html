<!DOCTYPE html>
<html>
  <head>
    <title>Webpack Dev Keen Dataviz Demo</title>
    <meta charset="utf-8">
    <script src="./assets/faker.js"></script>
    <script src="keen-dataviz.js"></script>
    <link rel="stylesheet" href="./assets/keen-dashboards.css">
    <link rel="stylesheet" href="./keen-dataviz.css">
    <style>
    body {
      padding: 20px;
    }
    h1, h2, h3 {
      font-family: 'Gotham Rounded SSm A', 'Gotham Rounded SSm B', 'Helvetica Neue', Helvetica, Arial, sans-serif;
    }
    h1 {
      color: #282828;
      font-weight: 200;
      margin: 0;
    }
    h2 {
      color: #4D4D4D;
      font-size: 21px;
      margin: 48px 0 24px;
      text-transform: uppercase;
    }
    h3 {
      color: #555;
      font-size: 16px;
      margin: 0 0 24px;
    }
    .demo-chart {
      background: #fff;
      margin: 0 auto;
      width: 600px;
    }
    </style>
    <style>


    /* !!! */







      .custom-theme {
        background: #fff;
        border: 1px solid #d7d7d7;
        border-radius: 5px;
        box-sizing: border-box;
      }
      .custom-theme-title {
        border-bottom: 1px solid #d7d7d7;
        border-radius: 5px 5px 0 0;
        padding: 5px 10px;
      }
      .custom-theme-notes {
        background: #fbfbfb;
        border-radius: 0 0 5px 5px;
        border-top: 1px solid #d7d7d7;
        padding: 5px 10px;
      }
      .keen-ui-col-4{
      }
      .keen-chart-container{
        height: 280px;
      }

      .keen-chart-small-container{
        height: 140px;
      }

    </style>
  </head>
  <body onload="init()">
    <div class="container">

      <h1>Dataviz Examples</h1>

      <div class="keen-ui-row">
        <div class="keen-ui-col-4" id="nested">
          <h2>Metric</h2>
          <div class="chart-demo-metric keen-chart-small-container"></div>
        </div>
        <div class="keen-ui-col-4" id="nested">
          <h2>Metric with previous results</h2>
          <div class="chart-demo-metric-previous-results keen-chart-small-container"></div>
        </div>
      </div>

      <div class="keen-ui-row">
        <div class="keen-ui-col-4">
          <h2>Message</h2>
          <div class="chart-demo-message keen-chart-small-container"></div>
        </div>
        <div class="keen-ui-col-4">
          <h2>Spinner</h2>
          <div id="chart-demo-spinner" class="keen-chart-small-container"></div>
        </div>
      </div>

      <div class="keen-ui-row">
        <div class="keen-ui-col-12">
          <h2>Table</h2>
          <div class="chart-demo-table"></div>
        </div>
      </div>

      <div class="keen-ui-row">
        <div class="keen-ui-col-12">
          <h2>Empty Table</h2>
          <div class="chart-demo-empty-table"></div>
        </div>
      </div>

      <div class="keen-ui-row">
        <div class="keen-ui-col-6" id="nested">
          <h2>Funnel</h2>
          <div class="chart-demo-funnel keen-chart-container"></div>
        </div>
        <div class="keen-ui-col-6" id="nested">
          <h2>Funnel 3D</h2>
          <div class="chart-demo-funnel-3d keen-chart-container"></div>
        </div>
      </div>

      <div class="keen-ui-row">
        <div class="keen-ui-col-6" id="nested">
          <h2>Horizontal funnel</h2>
          <div class="chart-demo-horizontal-funnel keen-chart-container"></div>
        </div>
        <div class="keen-ui-col-6" id="nested">
          <h2>Horizontal funnel 3D</h2>
          <div class="chart-demo-horizontal-funnel-3d keen-chart-container"></div>
        </div>
      </div>

      <div class="keen-ui-row">
        <div class="keen-ui-col-4">
          <h2>Gauge</h2>
          <div class="chart-c3-gauge keen-chart-small-container"></div>
          <div class="chart-c3-gauge2 keen-chart-small-container"></div>
        </div>
        <div class="keen-ui-col-4">
          <h2>Donut</h2>
          <div class="chart-c3-donut keen-chart-container"></div>
        </div>
        <div class="keen-ui-col-4">
          <h2>Pie</h2>
          <div class="chart-c3-pie keen-chart-container"></div>
        </div>
      </div>



      <h2>Bar chart</h2>

      <h3>Categorical</h3>
      <div class="keen-ui-row">
        <div class="keen-ui-col-6">
          <div class="chart-c3-bar keen-chart-container"></div>
        </div>
        <div class="keen-ui-col-6">
          <div class="chart-c3-bar-multi keen-chart-container"></div>
        </div>
      </div>

      <div class="keen-ui-row">
        <div class="keen-ui-col-6">
          <div class="chart-c3-bar-stacked keen-chart-container"></div>
        </div>
        <div class="keen-ui-col-6">
          <div class="chart-c3-bar-percent keen-chart-container"></div>
        </div>
      </div>

      <div class="keen-ui-row">
        <div class="keen-ui-col-12">
          <div class="chart-c3-bar-range keen-chart-container"></div>
        </div>
      </div>

      <h3>Timeseries (yearly)</h3>
      <div class="keen-ui-row">
        <div class="keen-ui-col-6">
          <div class="chart-c3-bar-time keen-chart-container"></div>
        </div>
        <div class="keen-ui-col-6">
          <div class="chart-c3-bar-time-multi keen-chart-container"></div>
        </div>
      </div>

      <div class="keen-ui-row">
        <div class="keen-ui-col-6">
          <div class="chart-c3-bar-time-stacked keen-chart-container"></div>
        </div>
        <div class="keen-ui-col-6">
          <div class="chart-c3-bar-time-percent keen-chart-container"></div>
        </div>
      </div>

      <div class="keen-ui-row">
        <div class="keen-ui-col-12">
          <div class="chart-c3-bar-time-range keen-chart-container"></div>
        </div>
      </div>


      <h2>Line chart</h2>

      <h3>Categorical</h3>

      <div class="keen-ui-row">
        <div class="keen-ui-col-6">
          <div class="chart-c3-sparkline keen-chart-container"></div>
        </div>
        <div class="keen-ui-col-6">
          <div class="chart-c3-line keen-chart-container"></div>
        </div>
      </div>

      <div class="keen-ui-row">
        <div class="keen-ui-col-6">
          <div class="chart-c3-line-multi keen-chart-container"></div>
        </div>
        <div class="keen-ui-col-6">
          <div class="chart-c3-line-stacked keen-chart-container"></div>
        </div>
      </div>

      <h3>Timeseries (daily)</h3>
      <div class="keen-ui-row">
        <div class="keen-ui-col-4">
          <div class="chart-c3-line-time keen-chart-container"></div>
        </div>
        <div class="keen-ui-col-4">
          <div class="chart-c3-line-time-multi keen-chart-container"></div>
        </div>
        <div class="keen-ui-col-4">
          <div class="chart-c3-line-time-stacked keen-chart-container"></div>
        </div>
      </div>



      <h2>Spline chart</h2>

      <h3>Categorical</h3>
      <div class="keen-ui-row">
        <div class="keen-ui-col-4">
          <div class="chart-c3-spline keen-chart-container"></div>
        </div>
        <div class="keen-ui-col-4">
          <div class="chart-c3-spline-multi keen-chart-container"></div>
        </div>
        <div class="keen-ui-col-4">
          <div class="chart-c3-spline-stacked keen-chart-container"></div>
        </div>
      </div>

      <h3>Timeseries (hourly)</h3>
      <div class="keen-ui-row">
        <div class="keen-ui-col-4">
          <div class="chart-c3-spline-time keen-chart-container"></div>
        </div>
        <div class="keen-ui-col-4">
          <div class="chart-c3-spline-time-multi keen-chart-container"></div>
        </div>
        <div class="keen-ui-col-4">
          <div class="chart-c3-spline-time-stacked keen-chart-container"></div>
        </div>
      </div>




      <h2>Area chart</h2>

      <h3>Categorical</h3>
      <div class="keen-ui-row">
        <div class="keen-ui-col-6">
          <div class="chart-c3-area keen-chart-container"></div>
        </div>
        <div class="keen-ui-col-6">
          <div class="chart-c3-area-multi keen-chart-container"></div>
        </div>
      </div>
      <div class="keen-ui-row">
        <div class="keen-ui-col-6">
          <div class="chart-c3-area-stacked keen-chart-container"></div>
        </div>
        <div class="keen-ui-col-6">
          <div class="chart-c3-area-percent keen-chart-container"></div>
        </div>
      </div>

      <h3>Timeseries (minutely)</h3>
      <div class="keen-ui-row">
        <div class="keen-ui-col-6">
          <div class="chart-c3-area-time keen-chart-container"></div>
        </div>
        <div class="keen-ui-col-6">
          <div class="chart-c3-area-time-multi keen-chart-container"></div>
        </div>
      </div>
      <div class="keen-ui-row">
        <div class="keen-ui-col-6">
          <div class="chart-c3-area-time-stacked keen-chart-container"></div>
        </div>
        <div class="keen-ui-col-6">
          <div class="chart-c3-area-time-percent keen-chart-container"></div>
        </div>
      </div>
      <div class="keen-ui-row">
        <div class="keen-ui-col-12">
          <div class="chart-c3-area-time-range keen-chart-container"></div>
        </div>
      </div>


      <h2>Area-Spline chart</h2>

      <h3>Categorical</h3>
      <div class="keen-ui-row">
        <div class="keen-ui-col-6">
          <div class="chart-c3-area-spline keen-chart-container"></div>
        </div>
        <div class="keen-ui-col-6">
          <div class="chart-c3-area-spline-multi keen-chart-container"></div>
        </div>
      </div>

      <div class="keen-ui-row">
        <div class="keen-ui-col-6">
          <div class="chart-c3-area-spline-stacked keen-chart-container"></div>
        </div>
        <div class="keen-ui-col-6">
          <div class="chart-c3-area-spline-percent keen-chart-container"></div>
        </div>
      </div>
      

      <h3>Timeseries (secondly)</h3>
      <div class="keen-ui-row">
        <div class="keen-ui-col-6">
          <div class="chart-c3-area-spline-time keen-chart-container"></div>
        </div>
        <div class="keen-ui-col-6">
          <div class="chart-c3-area-spline-time-multi keen-chart-container"></div>
        </div>
      </div>

      <div class="keen-ui-row">
        <div class="keen-ui-col-6">
          <div class="chart-c3-area-spline-time-stacked keen-chart-container"></div>
        </div>
        <div class="keen-ui-col-6">
          <div class="chart-c3-area-spline-time-percent keen-chart-container"></div>
        </div>
      </div>

      <div class="keen-ui-row">
        <div class="keen-ui-col-12">
          <div class="chart-c3-area-spline-time-range keen-chart-container"></div>
        </div>
      </div>

      <h2>Area-Step chart</h2>

      <h3>Categorical</h3>
      <div class="keen-ui-row">
        <div class="keen-ui-col-6">
          <div class="chart-c3-area-step keen-chart-container"></div>
        </div>
        <div class="keen-ui-col-6">
          <div class="chart-c3-area-step-multi keen-chart-container"></div>
        </div>
      </div>

      <div class="keen-ui-row">
        <div class="keen-ui-col-6">
          <div class="chart-c3-area-step-stacked keen-chart-container"></div>
        </div>
        <div class="keen-ui-col-6">
          <div class="chart-c3-area-step-percent keen-chart-container"></div>
        </div>
      </div>

      <h3>Timeseries</h3>
      <div class="keen-ui-row">
        <div class="keen-ui-col-6">
          <div class="chart-c3-area-step-time keen-chart-container"></div>
        </div>
        <div class="keen-ui-col-6">
          <div class="chart-c3-area-step-time-multi keen-chart-container"></div>
        </div>
      </div>

      <div class="keen-ui-row">
        <div class="keen-ui-col-6">
          <div class="chart-c3-area-step-time-stacked keen-chart-container"></div>
        </div>
        <div class="keen-ui-col-6">
          <div class="chart-c3-area-step-time-percent keen-chart-container"></div>
        </div>
      </div>

      <div class="keen-ui-row">
        <div class="keen-ui-col-12">
          <div class="chart-c3-area-step-time-range keen-chart-container"></div>
        </div>
      </div>


      <h2>Step chart</h2>

      <h3>Categorical</h3>
      <div class="keen-ui-row">
        <div class="keen-ui-col-4">
          <div class="chart-c3-step keen-chart-container"></div>
        </div>
        <div class="keen-ui-col-4">
          <div class="chart-c3-step-multi keen-chart-container"></div>
        </div>
        <div class="keen-ui-col-4">
          <div class="chart-c3-step-stacked keen-chart-container"></div>
        </div>
      </div>

      <h3>Timeseries</h3>
      <div class="keen-ui-row">
        <div class="keen-ui-col-4">
          <div class="chart-c3-step-time keen-chart-container"></div>
        </div>
        <div class="keen-ui-col-4">
          <div class="chart-c3-step-time-multi keen-chart-container"></div>
        </div>
        <div class="keen-ui-col-4">
          <div class="chart-c3-step-time-stacked keen-chart-container"></div>
        </div>
      </div>

      <h2>Combo charts</h2>

      <div class="keen-ui-row">
        <div class="keen-ui-col-4">
          <div class="chart-metric-combo keen-chart-container"></div>
        </div>
      </div>






    </div>

    <script>

    function init(){

      const RAND_DATA_MAX = 10;

      const metricData = { result: 24501 };

      const results = { result: 24501 };
      const previousResults = { result: 20000 };

      const gaugeData = { result: 79 };

      const groupedData = [
        [ 'Index', 'Result' ],
        [ faker.internet.url(), faker.internet.exampleEmail(), faker.internet.exampleEmail(), 189.98 ],
        [ faker.internet.url(), 135.83 ],
        [ faker.internet.url(), 124.56 ],
        [ faker.internet.url(), 117.22 ],
        [ faker.internet.url(), 55.12  ]
      ];

      function makeGroupedDataset(){
        const ds = new Dataset();
        const len = rand(5, RAND_DATA_MAX);
        for (let i = 0; i < len; i++) {
          ds.appendRow(faker.internet.email(), [faker.random.number()]);
        }
        ds.appendRow('null', [faker.random.number()]);
        return ds;
      }

      function makeGroupedIntervalDataset(){
        const ds = new Dataset();
        ds.matrix = [
          [ 'Index' ],
          [ '2015-12-01T10:56:00.000Z' ],
          [ '2015-12-01T10:57:00.000Z' ],
          [ '2015-12-01T10:58:00.000Z' ],
          [ '2015-12-01T10:59:00.000Z' ],
          [ '2015-12-01T11:00:00.000Z' ]
        ];

        // Add more rows
        for (let i = 0; i < 25; i++) {
          let val = i < 10 ? '0'+i : i;
          ds.matrix.push([ '2015-12-01T11:' + val + ':00.000Z' ]);
        }

        let len = ds.selectColumn(0).length;
        for (let i = 0; i < RAND_DATA_MAX; i++) {
          let newCol = gen(len-1);
          if (i > 0) {
            ds.appendColumn(newCol[0], newCol.slice(1));
          }
          else {
            // Inject a null value
            ds.appendColumn('null', newCol.slice(1));
          }
        }
        return ds;
      }

      const groupedMultiData = [
        [ 'Index', faker.internet.url(), faker.internet.url(), faker.internet.url()],
        [ 'A', 189.98, 322.43, 654.44 ],
        [ 'B', 135.83, 564.21, 622.12 ],
        [ 'C', 124.56, 611.23, 432.11 ],
        [ 'D', 117.22, 434.37, 488.12 ],
        [ 'E', 55.12, 212.44, 323.55  ]
      ];

      const rangeData = [
        [ 'Index', faker.internet.url(), faker.internet.url(),],
        [ 'A',  322.43, 189.98,],
        [ 'B',  564.21, 135.83,],
        [ 'C',  611.23, 124.56,],
        [ 'D',  434.37, 117.22,],
        [ 'E',  212.44, 55.12,],
      ];

      const intervalData = [
        [ 'Index', 'Result' ],
        [ '2014-12-01T00:00:00.000Z', 189.98 ],
        [ '2015-01-01T00:00:00.000Z', 135.83 ],
        [ '2015-02-01T00:00:00.000Z', 124.56 ],
        [ '2015-03-01T00:00:00.000Z', 117.22 ],
        [ '2015-04-01T00:00:00.000Z', 55.12  ]
      ];

      const intervalMultiData = [
        [ 'Index', faker.internet.exampleEmail(), faker.internet.exampleEmail(), faker.internet.exampleEmail() ],
        [ '2014-12-01T00:00:00.000Z', 189.98, 322.43, 654.44 ],
        [ '2015-01-01T00:00:00.000Z', 135.83, 564.21, 622.12 ],
        [ '2015-02-01T00:00:00.000Z', 124.56, 611.23, 432.11 ],
        [ '2015-03-01T00:00:00.000Z', 117.22, 434.37, 488.12 ],
        [ '2015-04-01T00:00:00.000Z', 55.12, 212.44, 323.55  ]
      ];


      // Yearly dataset

      const intervalDataYearly = [
        [ 'Index', 'Result' ],
        [ '2011-01-01T00:00:00.000Z', 189.98 ],
        [ '2012-01-01T00:00:00.000Z', 135.83 ],
        [ '2013-01-01T00:00:00.000Z', 124.56 ],
        [ '2014-01-01T00:00:00.000Z', 117.22 ],
        [ '2015-01-01T00:00:00.000Z', 55.12  ]
      ];

      const intervalMultiDataYearly = [
        [ 'Index', faker.internet.exampleEmail(), faker.internet.exampleEmail(), faker.internet.exampleEmail() ],
        [ '2011-01-01T00:00:00.000Z', 189.98, 322.43, 654.44 ],
        [ '2012-01-01T00:00:00.000Z', 135.83, 564.21, 622.12 ],
        [ '2013-01-01T00:00:00.000Z', 124.56, 611.23, 432.11 ],
        [ '2014-01-01T00:00:00.000Z', 117.22, 434.37, 488.12 ],
        [ '2015-01-01T00:00:00.000Z', 55.12, 212.44, 323.55  ]
      ];

      // Secondly dataset

      const intervalDataSecondly = [
        [ 'Index', 'Result' ],
        [ '2015-12-01T10:59:56.000Z', 189.98 ],
        [ '2015-12-01T10:59:57.000Z', 135.83 ],
        [ '2015-12-01T10:59:58.000Z', 124.56 ],
        [ '2015-12-01T10:59:59.000Z', 117.22 ],
        [ '2015-12-01T11:00:00.000Z', 55.12  ]
      ];

      const intervalMultiDataSecondly = [
        [ 'Index', faker.internet.exampleEmail(), faker.internet.exampleEmail(), faker.internet.exampleEmail() ],
        [ '2015-12-01T10:59:56.000Z', 189.98, 322.43, 654.44 ],
        [ '2015-12-01T10:59:57.000Z', 135.83, 564.21, 622.12 ],
        [ '2015-12-01T10:59:58.000Z', 124.56, 611.23, 432.11 ],
        [ '2015-12-01T10:59:59.000Z', 117.22, 434.37, 488.12 ],
        [ '2015-12-01T11:00:00.000Z', 55.12, 212.44, 323.55  ]
      ];

      // Minutely dataset

      const intervalDataMinutely = [
        [ 'Index', 'Result' ],
        [ '2015-12-01T10:56:00.000Z', 189.98 ],
        [ '2015-12-01T10:57:00.000Z', 135.83 ],
        [ '2015-12-01T10:58:00.000Z', 124.56 ],
        [ '2015-12-01T10:59:00.000Z', 117.22 ],
        [ '2015-12-01T11:00:00.000Z', 55.12  ]
      ];

      const intervalMultiDataMinutely = [
        [ 'Index', faker.internet.exampleEmail(), faker.internet.exampleEmail(), faker.internet.exampleEmail() ],
        [ '2015-12-01T10:56:00.000Z', 189.98, 322.43, 654.44 ],
        [ '2015-12-01T10:57:00.000Z', 135.83, 564.21, 622.12 ],
        [ '2015-12-01T10:58:00.000Z', 124.56, 611.23, 432.11 ],
        [ '2015-12-01T10:59:00.000Z', 117.22, 434.37, 488.12 ],
        [ '2015-12-01T11:00:00.000Z', 55.12, 212.44, 323.55  ]
      ];


      // Hourly dataset

      const intervalDataHourly = [
        [ 'Index', 'Result' ],
        [ '2015-12-01T10:00:00.000Z', 189.98 ],
        [ '2015-12-01T11:00:00.000Z', 135.83 ],
        [ '2015-12-01T12:00:00.000Z', 124.56 ],
        [ '2015-12-01T13:00:00.000Z', 117.22 ],
        [ '2015-12-01T14:00:00.000Z', 55.12  ]
      ];

      const intervalMultiDataHourly = [
        [ 'Index', faker.internet.exampleEmail(), faker.internet.exampleEmail(), faker.internet.exampleEmail() ],
        [ '2015-12-01T10:00:00.000Z', 189.98, 322.43, 654.44 ],
        [ '2015-12-01T11:00:00.000Z', 135.83, 564.21, 622.12 ],
        [ '2015-12-01T12:00:00.000Z', 124.56, 611.23, 432.11 ],
        [ '2015-12-01T13:00:00.000Z', 117.22, 434.37, 488.12 ],
        [ '2015-12-01T14:00:00.000Z', 55.12, 212.44, 323.55  ]
      ];


      // Daily dataset

      const intervalDataDaily = [
        [ 'Index', 'Result' ],
        [ '2015-12-01T00:00:00.000Z', 189.98 ],
        [ '2015-12-02T00:00:00.000Z', 135.83 ],
        [ '2015-12-03T00:00:00.000Z', 124.56 ],
        [ '2015-12-04T00:00:00.000Z', 117.22 ],
        [ '2015-12-05T00:00:00.000Z', 55.12  ]
      ];

      const intervalMultiDataDaily = [
        [ 'Index', faker.internet.exampleEmail(), faker.internet.exampleEmail(), faker.internet.exampleEmail() ],
        [ '2015-12-01T00:00:00.000Z', 189.98, 322.43, 654.44 ],
        [ '2015-12-02T00:00:00.000Z', 135.83, 564.21, 622.12 ],
        [ '2015-12-03T00:00:00.000Z', 124.56, 611.23, 432.11 ],
        [ '2015-12-04T00:00:00.000Z', 117.22, 434.37, 488.12 ],
        [ '2015-12-05T00:00:00.000Z', 55.12, 212.44, 323.55  ]
      ];

      const intervalQuery = {"query":{"analysis_type":"count","event_collection":"pageviews","timeframe":"previous_24_hours","interval":"hourly","timezone":"UTC"},"result":[{"value":10,"timeframe":{"start":"2019-03-14T11:00:00.000Z","end":"2019-03-14T12:00:00.000Z"}},{"value":50,"timeframe":{"start":"2019-03-14T12:00:00.000Z","end":"2019-03-14T13:00:00.000Z"}},{"value":30,"timeframe":{"start":"2019-03-14T13:00:00.000Z","end":"2019-03-14T14:00:00.000Z"}},{"value":60,"timeframe":{"start":"2019-03-14T14:00:00.000Z","end":"2019-03-14T15:00:00.000Z"}},{"value":30,"timeframe":{"start":"2019-03-14T15:00:00.000Z","end":"2019-03-14T16:00:00.000Z"}},{"value":20,"timeframe":{"start":"2019-03-14T16:00:00.000Z","end":"2019-03-14T17:00:00.000Z"}},{"value":50,"timeframe":{"start":"2019-03-14T17:00:00.000Z","end":"2019-03-14T18:00:00.000Z"}},{"value":40,"timeframe":{"start":"2019-03-14T18:00:00.000Z","end":"2019-03-14T19:00:00.000Z"}},{"value":10,"timeframe":{"start":"2019-03-14T19:00:00.000Z","end":"2019-03-14T20:00:00.000Z"}},{"value":40,"timeframe":{"start":"2019-03-14T20:00:00.000Z","end":"2019-03-14T21:00:00.000Z"}},{"value":20,"timeframe":{"start":"2019-03-14T21:00:00.000Z","end":"2019-03-14T22:00:00.000Z"}},{"value":30,"timeframe":{"start":"2019-03-14T22:00:00.000Z","end":"2019-03-14T23:00:00.000Z"}},{"value":30,"timeframe":{"start":"2019-03-14T23:00:00.000Z","end":"2019-03-15T00:00:00.000Z"}},{"value":50,"timeframe":{"start":"2019-03-15T00:00:00.000Z","end":"2019-03-15T01:00:00.000Z"}},{"value":100,"timeframe":{"start":"2019-03-15T01:00:00.000Z","end":"2019-03-15T02:00:00.000Z"}},{"value":40,"timeframe":{"start":"2019-03-15T02:00:00.000Z","end":"2019-03-15T03:00:00.000Z"}},{"value":10,"timeframe":{"start":"2019-03-15T03:00:00.000Z","end":"2019-03-15T04:00:00.000Z"}},{"value":20,"timeframe":{"start":"2019-03-15T04:00:00.000Z","end":"2019-03-15T05:00:00.000Z"}},{"value":60,"timeframe":{"start":"2019-03-15T05:00:00.000Z","end":"2019-03-15T06:00:00.000Z"}},{"value":20,"timeframe":{"start":"2019-03-15T06:00:00.000Z","end":"2019-03-15T07:00:00.000Z"}},{"value":20,"timeframe":{"start":"2019-03-15T07:00:00.000Z","end":"2019-03-15T08:00:00.000Z"}},{"value":50,"timeframe":{"start":"2019-03-15T08:00:00.000Z","end":"2019-03-15T09:00:00.000Z"}},{"value":20,"timeframe":{"start":"2019-03-15T09:00:00.000Z","end":"2019-03-15T10:00:00.000Z"}},{"value":30,"timeframe":{"start":"2019-03-15T10:00:00.000Z","end":"2019-03-15T11:00:00.000Z"}}]};

      const tableData = {"result": [{"extended": true, "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.99 Safari/537.36", "tracked_by": "keen-tracking-3.0.2", "geo": {"province": "Lesser Poland Voivodeship", "city": "Krakow", "country": "Poland", "coordinates": [19.9802, 50.0575], "postal_code": null, "country_code": "PL", "continent": "Europe"}, "time": {"utc": {"millisecond": 679, "day_of_week_string": "Monday", "hour": 14, "timezone_offset": 0, "day_of_month": 30, "day_of_week": 1, "day_of_year": 211, "second": 20, "week": 31, "year": 2018, "month": 7, "minute": 56, "quarter_of_year": 3}, "local": {"millisecond": 678, "day_of_week_string": "Monday", "hour": 14, "timezone_offset": 0, "day_of_month": 30, "day_of_week": 1, "day_of_year": 211, "second": 20, "week": 31, "year": 2018, "month": 7, "minute": 56, "quarter_of_year": 3}}, "keen": {"timestamp": "2018-07-30T14:56:20.679Z", "created_at": "2018-07-30T14:56:22.374Z", "id": "5b5f27168a33a0000103946b"}, "tech": {"device": {"family": "Other"}, "profile": {"cookies": true, "name": "Netscape", "language": "pl-PL", "screen": {"orientation": {"type": "landscape", "angle": 0}, "width": 1920, "availHeight": 1177, "height": 1200, "availWidth": 1920, "colorDepth": 24, "pixelDepth": 24}, "platform": "MacIntel", "window": {"width": 1483, "ratio": {"width": 0.77, "height": 0.36}, "scrollHeight": 9016, "height": 428}, "version": "5.0 (Macintosh; Intel Mac OS X 10_13_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.99 Safari/537.36", "online": true, "useragent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.99 Safari/537.36", "codeName": "Mozilla", "description": "Keen IO Javascript SDK Unit Tests"}, "os": {"major": "10", "patch_minor": null, "minor": "13", "family": "Mac OS X", "patch": "3"}, "browser": {"major": "67", "minor": "0", "family": "Chrome", "patch": "3396"}}, "url": {"info": {"path": "/auto-tracking.html", "domain": "localhost", "protocol": "http", "anchor": null}, "full": "http://localhost:8080/auto-tracking.html"}, "referrer": {"info": {"path": "/auto-tracking.html", "domain": "localhost", "protocol": "http", "anchor": null}, "initial": "http://localhost:8080/auto-tracking.html", "full": "http://localhost:8080/auto-tracking.html"}, "local_time_full": "2018-07-30T14:56:20.678Z", "ip_address": "93.159.134.30", "page": {"time_on_page": 0, "description": "Keen IO Javascript SDK Unit Tests", "title": "Auto-tracking test demo"}, "user": {"uuid": "89df49b5-9c05-444b-8b43-a99abbbee097"}}, {"extended": true, "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.99 Safari/537.36", "tracked_by": "keen-tracking-3.0.2", "geo": {"province": "Lesser Poland Voivodeship", "city": "Krakow", "country": "Poland", "coordinates": [19.9802, 50.0575], "postal_code": null, "country_code": "PL", "continent": "Europe"}, "time": {"utc": {"millisecond": 536, "day_of_week_string": "Monday", "hour": 14, "timezone_offset": 0, "day_of_month": 30, "day_of_week": 1, "day_of_year": 211, "second": 12, "week": 31, "year": 2018, "month": 7, "minute": 41, "quarter_of_year": 3}, "local": {"millisecond": 536, "day_of_week_string": "Monday", "hour": 14, "timezone_offset": 0, "day_of_month": 30, "day_of_week": 1, "day_of_year": 211, "second": 12, "week": 31, "year": 2018, "month": 7, "minute": 41, "quarter_of_year": 3}}, "keen": {"timestamp": "2018-07-30T14:41:12.536Z", "created_at": "2018-07-30T14:41:13.358Z", "id": "5b5f23899c057400010c7a43"}, "tech": {"device": {"family": "Other"}, "profile": {"cookies": true, "name": "Netscape", "language": "pl-PL", "screen": {"orientation": {"type": "landscape", "angle": 0}, "width": 1920, "availHeight": 1177, "height": 1200, "availWidth": 1920, "colorDepth": 24, "pixelDepth": 24}, "platform": "MacIntel", "window": {"width": 1483, "ratio": {"width": 0.77, "height": 0.36}, "scrollHeight": 9016, "height": 428}, "version": "5.0 (Macintosh; Intel Mac OS X 10_13_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.99 Safari/537.36", "online": true, "useragent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.99 Safari/537.36", "codeName": "Mozilla", "description": "Keen IO Javascript SDK Unit Tests"}, "os": {"major": "10", "patch_minor": null, "minor": "13", "family": "Mac OS X", "patch": "3"}, "browser": {"major": "67", "minor": "0", "family": "Chrome", "patch": "3396"}}, "url": {"info": {"path": "/auto-tracking.html", "domain": "localhost", "protocol": "http", "anchor": null}, "full": "http://localhost:8080/auto-tracking.html"}, "referrer": {"info": {"path": "/auto-tracking.html", "domain": "localhost", "protocol": "http", "anchor": null}, "initial": "http://localhost:8080/auto-tracking.html", "full": "http://localhost:8080/auto-tracking.html"}, "local_time_full": "2018-07-30T14:41:12.536Z", "ip_address": "93.159.134.30", "page": {"time_on_page": 0, "description": "Keen IO Javascript SDK Unit Tests", "title": "Auto-tracking test demo"}, "user": {"uuid": "89df49b5-9c05-444b-8b43-a99abbbee097"}}, {"extended": true, "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.99 Safari/537.36", "tracked_by": "keen-tracking-3.0.2", "geo": {"province": "Lesser Poland Voivodeship", "city": "Krakow", "country": "Poland", "coordinates": [19.9802, 50.0575], "postal_code": null, "country_code": "PL", "continent": "Europe"}, "time": {"utc": {"millisecond": 270, "day_of_week_string": "Monday", "hour": 14, "timezone_offset": 0, "day_of_month": 30, "day_of_week": 1, "day_of_year": 211, "second": 0, "week": 31, "year": 2018, "month": 7, "minute": 41, "quarter_of_year": 3}, "local": {"millisecond": 270, "day_of_week_string": "Monday", "hour": 14, "timezone_offset": 0, "day_of_month": 30, "day_of_week": 1, "day_of_year": 211, "second": 0, "week": 31, "year": 2018, "month": 7, "minute": 41, "quarter_of_year": 3}}, "keen": {"timestamp": "2018-07-30T14:41:00.270Z", "created_at": "2018-07-30T14:41:00.570Z", "id": "5b5f237c187e570001f464fe"}, "tech": {"device": {"family": "Other"}, "profile": {"cookies": true, "name": "Netscape", "language": "pl-PL", "screen": {"orientation": {"type": "landscape", "angle": 0}, "width": 1920, "availHeight": 1177, "height": 1200, "availWidth": 1920, "colorDepth": 24, "pixelDepth": 24}, "platform": "MacIntel", "window": {"width": 1483, "ratio": {"width": 0.77, "height": 0.36}, "scrollHeight": 9016, "height": 428}, "version": "5.0 (Macintosh; Intel Mac OS X 10_13_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.99 Safari/537.36", "online": true, "useragent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.99 Safari/537.36", "codeName": "Mozilla", "description": "Keen IO Javascript SDK Unit Tests"}, "os": {"major": "10", "patch_minor": null, "minor": "13", "family": "Mac OS X", "patch": "3"}, "browser": {"major": "67", "minor": "0", "family": "Chrome", "patch": "3396"}}, "url": {"info": {"path": "/auto-tracking.html", "domain": "localhost", "protocol": "http", "anchor": null}, "full": "http://localhost:8080/auto-tracking.html"}, "referrer": {"info": {"path": "/auto-tracking.html", "domain": "localhost", "protocol": "http", "anchor": null}, "initial": "http://localhost:8080/auto-tracking.html", "full": "http://localhost:8080/auto-tracking.html"}, "local_time_full": "2018-07-30T14:41:00.270Z", "ip_address": "93.159.134.30", "page": {"time_on_page": 0, "description": "Keen IO Javascript SDK Unit Tests", "title": "Auto-tracking test demo"}, "user": {"uuid": "849b44c6-d839-4ee4-b126-e37b170ad1ff"}}, {"extended": true, "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.99 Safari/537.36", "tracked_by": "keen-tracking-3.0.2", "geo": {"province": "Lesser Poland Voivodeship", "city": "Krakow", "country": "Poland", "coordinates": [19.9802, 50.0575], "postal_code": null, "country_code": "PL", "continent": "Europe"}, "time": {"utc": {"millisecond": 670, "day_of_week_string": "Monday", "hour": 14, "timezone_offset": 0, "day_of_month": 30, "day_of_week": 1, "day_of_year": 211, "second": 27, "week": 31, "year": 2018, "month": 7, "minute": 40, "quarter_of_year": 3}, "local": {"millisecond": 670, "day_of_week_string": "Monday", "hour": 14, "timezone_offset": 0, "day_of_month": 30, "day_of_week": 1, "day_of_year": 211, "second": 27, "week": 31, "year": 2018, "month": 7, "minute": 40, "quarter_of_year": 3}}, "keen": {"timestamp": "2018-07-30T14:40:27.670Z", "created_at": "2018-07-30T14:40:28.220Z", "id": "5b5f235ce3b33700012f9823"}, "tech": {"device": {"family": "Other"}, "profile": {"cookies": true, "name": "Netscape", "language": "pl-PL", "screen": {"orientation": {"type": "landscape", "angle": 0}, "width": 1920, "availHeight": 1177, "height": 1200, "availWidth": 1920, "colorDepth": 24, "pixelDepth": 24}, "platform": "MacIntel", "window": {"width": 1483, "ratio": {"width": 0.77, "height": 0.36}, "scrollHeight": 9016, "height": 428}, "version": "5.0 (Macintosh; Intel Mac OS X 10_13_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.99 Safari/537.36", "online": true, "useragent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.99 Safari/537.36", "codeName": "Mozilla", "description": "Keen IO Javascript SDK Unit Tests"}, "os": {"major": "10", "patch_minor": null, "minor": "13", "family": "Mac OS X", "patch": "3"}, "browser": {"major": "67", "minor": "0", "family": "Chrome", "patch": "3396"}}, "url": {"info": {"path": "/auto-tracking.html", "domain": "localhost", "protocol": "http", "anchor": null}, "full": "http://localhost:8080/auto-tracking.html"}, "referrer": {"info": {"path": null, "domain": null, "protocol": null, "anchor": null}, "initial": "", "full": ""}, "local_time_full": "2018-07-30T14:40:27.670Z", "ip_address": "93.159.134.30", "page": {"time_on_page": 0, "description": "Keen IO Javascript SDK Unit Tests", "title": "Auto-tracking test demo"}, "user": {"uuid": "849b44c6-d839-4ee4-b126-e37b170ad1ff"}}, {"extended": true, "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.99 Safari/537.36", "tracked_by": "keen-tracking-3.0.2", "geo": {"province": "Lesser Poland Voivodeship", "city": "Krakow", "country": "Poland", "coordinates": [19.9802, 50.0575], "postal_code": null, "country_code": "PL", "continent": "Europe"}, "time": {"utc": {"millisecond": 754, "day_of_week_string": "Monday", "hour": 14, "timezone_offset": 0, "day_of_month": 30, "day_of_week": 1, "day_of_year": 211, "second": 49, "week": 31, "year": 2018, "month": 7, "minute": 39, "quarter_of_year": 3}, "local": {"millisecond": 754, "day_of_week_string": "Monday", "hour": 14, "timezone_offset": 0, "day_of_month": 30, "day_of_week": 1, "day_of_year": 211, "second": 49, "week": 31, "year": 2018, "month": 7, "minute": 39, "quarter_of_year": 3}}, "keen": {"timestamp": "2018-07-30T14:39:49.754Z", "created_at": "2018-07-30T14:39:50.050Z", "id": "5b5f23368534f6000170ee2b"}, "tech": {"device": {"family": "Other"}, "profile": {"cookies": true, "name": "Netscape", "language": "pl-PL", "screen": {"orientation": {"type": "landscape", "angle": 0}, "width": 1920, "availHeight": 1177, "height": 1200, "availWidth": 1920, "colorDepth": 24, "pixelDepth": 24}, "platform": "MacIntel", "window": {"width": 1483, "ratio": {"width": 0.77, "height": 0.36}, "scrollHeight": 9016, "height": 428}, "version": "5.0 (Macintosh; Intel Mac OS X 10_13_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.99 Safari/537.36", "online": true, "useragent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.99 Safari/537.36", "codeName": "Mozilla", "description": "Keen IO Javascript SDK Unit Tests"}, "os": {"major": "10", "patch_minor": null, "minor": "13", "family": "Mac OS X", "patch": "3"}, "browser": {"major": "67", "minor": "0", "family": "Chrome", "patch": "3396"}}, "url": {"info": {"path": "/auto-tracking.html", "domain": "localhost", "protocol": "http", "anchor": null}, "full": "http://localhost:8080/auto-tracking.html"}, "referrer": {"info": {"path": null, "domain": null, "protocol": null, "anchor": null}, "initial": "", "full": ""}, "local_time_full": "2018-07-30T14:39:49.754Z", "ip_address": "93.159.134.30", "page": {"time_on_page": 0, "description": "Keen IO Javascript SDK Unit Tests", "title": "Auto-tracking test demo"}, "user": {"uuid": "849b44c6-d839-4ee4-b126-e37b170ad1ff"}}]};

      const funnelData = {
          result: [ 98730, 67680, 22150, 9090 ],
          steps: [
              { event_collection: "create_account" },
              { event_collection: "complete_profile" },
              { event_collection: "create_project" },
              { event_collection: "invite_teammate" }
          ]
      };

      const funnelData3d = {
          result: [ 1000, 800, 600, 400, 300 ],
          steps: [
              { event_collection: "started_video" },
              { event_collection: "twenty_five_percent" },
              { event_collection: "fifty_percent" },
              { event_collection: "seventy_five_percent" },
              { event_collection: "finish_video" }
          ]
      };

      const horizontalFunnelData = {
          result: [ 23654, 15289, 10430, 5380 ],
          steps: [
              { event_collection: "purchased_device" },
              { event_collection: "activated_device" },
              { event_collection: "first_session" },
              { event_collection: "invite_friend" }
          ]
      };

      const horizontalFunnelData3d = {
          result: [ 10000, 7000, 5500, 3500 ],
          steps: [
              { event_collection: "site_visits" },
              { event_collection: "seen_ads" },
              { event_collection: "clicked_ads" },
              { event_collection: "purchased_product" }
          ]
      };

      const metricComboChartData = {
        previous: previousResults,
        current: results,
        interval: intervalQuery
      }

      window.spinner = new KeenDataviz({
          container: '#chart-demo-spinner',
          type: 'spinner'
        })
        .render();

      window.message = new KeenDataviz({
          container: '.chart-demo-message',
          type: 'message'
        })
        .message('This is a manual message!');

      window.metric = new KeenDataviz({
          container: '#nested .chart-demo-metric',
          type: 'metric',
          title: 'High-fives today'
        })
        .prepare()
        .render(metricData);

      window.metric = new KeenDataviz({
          container: '#nested .chart-demo-metric-previous-results',
          type: 'metric',
          title: 'High-fives today',
          results,
          previousResults
        })

      window.table = new KeenDataviz({
          container: '.chart-demo-table',
          type: 'table',
          title: 'Basic table view',
          notes: 'Footnotes for this table',
          table: {
            columns: ['keen.timestamp', 'user_agent', 'tracked_by'],
            pagination: {
              limit: 3
            }
          }
        })
        .render(tableData);

      const emptyTable = new KeenDataviz({
          container: '.chart-demo-empty-table',
          type: 'table'
        })
        .render({ result: [] });

      window.funnel = new KeenDataviz({
          container: '.chart-demo-funnel',
          type: 'funnel',
          labelMapping: {
            'create_account': 'Create account',
            'complete_profile': 'Complete profile',
            'create_project': 'Create project',
            'invite_teammate': 'Invite teammate'
          },
          funnel: {
            percents: {
              show: true,
            }
          }
        })
        .render(funnelData);

      window.funnel = new KeenDataviz({
          container: '.chart-demo-funnel-3d',
          type: 'funnel-3d',
          labelMapping: {
            'started_video': 'Started video',
            'twenty_five_percent': '25 percent',
            'fifty_percent': '50 percent',
            'seventy_five_percent': '75 percent',
            'finish_video': 'Finished video'
          },
          funnel: {
            lines: false,
            percents: {
              show: true,
            },
            resultValues: false
          }
        })
        .render(funnelData3d);

      window.funnel = new KeenDataviz({
          container: '.chart-demo-horizontal-funnel',
          type: 'horizontal-funnel',
          labelMapping: {
            'purchased_device': 'Purchased Device',
            'activated_device': 'Activated Device',
            'first_session': 'First Session',
            'invite_friend': 'Invite Friend'
          },
          palette: 'autocollector'
        })
        .render(horizontalFunnelData);

      window.funnel = new KeenDataviz({
          container: '.chart-demo-horizontal-funnel-3d',
          type: 'horizontal-funnel-3d',
          labelMapping: {
            'site_visits': 'Site visits',
            'seen_ads': 'Seen ads',
            'clicked_ads': 'Clicked ads',
            'purchased_product': 'Purchased product'
          },
          funnel: {
            lines: false,
            percents: {
              show: true,
              decimals: 1,
            },
            resultValues: false,
          }
        })
        .render(horizontalFunnelData3d);

      window.gauge = new KeenDataviz({
          container: '.chart-c3-gauge',
          title: 'Percentage of awesome Gauge 1',
          theme: 'custom-theme',
          notes: 'Sample notes go down here',
          type: 'gauge'
        })
        .render(gaugeData);

      window.gauge2 = new KeenDataviz({
          container: '.chart-c3-gauge2',
          title: 'Percentage of awesome Gauge 2',
          notes: 'some gauge2 note 123',
          type: 'gauge',
          theme: 'custom-theme',
          color: {
            pattern: ['#fe6672', '#ff855c', '#73d483'],
            threshold: {
              values: [25, 50, 75]
            }
          }
        })
        .render(gaugeData);

      const gaugeInterval = setInterval(function(){
        window.gauge2.call(function(){
          this.dataset.matrix[1][1] = Math.random() * (100 - 1) + 1;
        }).render();
      }, 1000);

      window.donut = new KeenDataviz({
          container: '.chart-c3-donut',
          title: 'Mmmm, donuts...',
          type: 'donut',
          legend: {
            position: 'bottom',
            show: true,
            label: {
              textMaxLength: 100
            }
          },
          sortGroups: 'desc'
        })
        .render({
          result: [
            {email: 'andrew@js.ninja', value: 100},
            {email: 'eve@hawai.travel', value: 50}
          ]
        });

      window.pie = new KeenDataviz({
          container: '.chart-c3-pie',
          title: 'Mmmm, pie...',
          type: 'pie',
          palette: 'autocollector'
        })
        .render({
          result: [
            {some_key: 'john', result: 4},
            {some_key: 'jack', result: 14},
            {some_key: 'rob', result: 20},
            {some_key: 'mary', result: 5},
            {some_key: 'tod', result: 24}
          ]});


      // -------------------------
      // BAR
      // -------------------------

      window.bar = new KeenDataviz({
          container: '.chart-c3-bar',
          title: 'Bar Chart Horizontal',
          type: 'horizontal-bar',
          sortGroups: 'desc',
          legend: false,
          palette: 'autocollector'
        })
        .data(makeGroupedDataset())
        .render();

      window.barMulti = new KeenDataviz({
          container: '.chart-c3-bar-multi',
          title: 'Bar Chart',
          type: 'horizontal-bar'
        })
        .call(function(){
          this.dataset.matrix = groupedMultiData;
        })
        .render();

      window.barMultiStacked = new KeenDataviz({
        container: '.chart-c3-bar-stacked',
        title: 'Bar Chart Multi Stacked',
        type: 'horizontal-bar',
        stacked: true,
        })
        .call(function(){
          this.dataset.matrix = groupedMultiData;
        })
        .render();

      window.barMultiPercent = new KeenDataviz({
        container: '.chart-c3-bar-percent',
        title: 'Bar Chart Multi Stacked 100%',
        type: 'horizontal-bar',
        stacking: 'percent',
        })
        .call(function(){
          this.dataset.matrix = groupedMultiData;
        })
        .render();

      window.barMultiPercent = new KeenDataviz({
        container: '.chart-c3-bar-range',
        title: 'Bar Chart Range',
        type: 'horizontal-bar-range',
        })
        .call(function(){
          this.dataset.matrix = rangeData;
        })
        .render();

      window.barTime = new KeenDataviz({
          container: '.chart-c3-bar-time',
          title: 'Bar Chart',
          type: 'bar'
        })
        .call(function(){
          this.dataset.matrix = intervalDataYearly;
        })
        .render();

      window.barTimeMulti = new KeenDataviz({
          container: '.chart-c3-bar-time-multi',
          title: 'Bar Chart Multi',
          type: 'bar'
        })
        .call(function(){
          this.dataset.matrix = intervalMultiDataYearly;
        })
        .render();

      window.barTimeMultiStacked = new KeenDataviz({
        container: '.chart-c3-bar-time-stacked',
        title: 'Bar Chart Multi Stacked',
        type: 'bar',
        stacked: true
      })
        .call(function(){
          this.dataset.matrix = intervalMultiDataYearly;
        })
        .render();

      window.barTimeMultiPercent = new KeenDataviz({
        container: '.chart-c3-bar-time-percent',
        title: 'Bar Chart Multi Stacked 100%',
        type: 'bar',
        stacking: 'percent'
      })
        .call(function(){
          this.dataset.matrix = intervalMultiDataYearly;
        })
        .render();

      window.barTimeMultiPercent = new KeenDataviz({
        container: '.chart-c3-bar-time-range',
        title: 'Bar Chart Range',
        type: 'bar-range',
      })
        .call(function(){
          this.dataset.matrix = rangeData;
        })
        .render();

      // -------------------------
      // END BAR
      // -------------------------


      // -------------------------
      // LINE !!!
      // -------------------------

      window.sparkline = new KeenDataviz({
          container: '.chart-c3-sparkline',
          title: 'Sparkline Chart',
          type: 'line',
          sparkline: true
        })
        .data(makeGroupedDataset())
        .render();

      window.line = new KeenDataviz({
          container: '.chart-c3-line',
          title: 'Line Chart',
          type: 'line',



        })
        .data(makeGroupedDataset())
        .render();

      window.lineMulti = new KeenDataviz({
          container: '.chart-c3-line-multi',
          legend: {
            position: 'bottom',
            show: true
          },
          title: 'Multi Line Chart',
          type: 'line'
        })
        .call(function(){
          this.dataset.matrix = groupedMultiData;
        })
        .render();

      window.lineMultiStacked = new KeenDataviz({
          container: '.chart-c3-line-stacked',
          title: 'Stacked Line Chart',
          type: 'line',
          stacked: true
        })
        .call(function(){
          this.dataset.matrix = groupedMultiData;
        })
        .render();

      window.lineTime = new KeenDataviz({
          container:'.chart-c3-line-time',
          title: 'Line Chart',
          type: 'line'
        })
        .call(function(){
          this.dataset.matrix = intervalDataDaily;
        })
        .render();

      window.lineTimeMulti = new KeenDataviz({
          container: '.chart-c3-line-time-multi',
          title: 'Line Chart',
          type: 'line',
          legend: {
            position: 'top',
            show: true,
            pagination: {
              limit: 3
            }
          }
        })
        .data(makeGroupedIntervalDataset())
        .render();

      window.lineTimeMultiStacked = new KeenDataviz({
          container: '.chart-c3-line-time-stacked',
          title: 'Line Chart Multi Stacked',
          type: 'line',
          stacked: true
        })
        .data(makeGroupedIntervalDataset())
        .render();

      // -------------------------
      // END LINE
      // -------------------------


      // -------------------------
      // SPLINE
      // -------------------------

      window.spline = new KeenDataviz({
          container: '.chart-c3-spline',
          title: 'Spline Chart',
          type: 'spline'
        })
        .data(makeGroupedDataset())
        .render();

      window.splineMulti = new KeenDataviz({
          container: '.chart-c3-spline-multi',
          title: 'Multi Spline Chart',
          type: 'spline',
          legend: {
            position: 'left',
            show: true,
            label: {
              textMaxLength: 20
            }
          }
        })
        .call(function(){
          this.dataset.matrix = groupedMultiData;
        })
        .render();

      window.splineMultiStacked = new KeenDataviz({
          container: '.chart-c3-spline-stacked',
          title: 'Spline Chart mutli stacked',
          type: 'spline',
          stacked: true
        })
        .call(function(){
          this.dataset.matrix = groupedMultiData;
        })
        .render();

      window.splineTime = new KeenDataviz({
          container: '.chart-c3-spline-time',
          title: 'Spline Chart',
          type: 'spline'
        })
        .call(function(){
          this.dataset.matrix = intervalDataHourly;
        })
        .render();

      window.splineTimeMulti = new KeenDataviz({
          container: '.chart-c3-spline-time-multi',
          title: 'Spline Chart',
          type: 'spline'
        })
        .call(function(){
          this.dataset.matrix = intervalMultiDataHourly;
        })
        .render();

      window.splineTimeMultiStacked = new KeenDataviz({
          container: '.chart-c3-spline-time-stacked',
          title: 'Spline Chart multi stacked',
          stacked: true,
          type: 'spline'
        })
        .call(function(){
          this.dataset.matrix = intervalMultiDataHourly;
        })
        .render();

      // -------------------------
      // END SPLINE
      // -------------------------



      // -------------------------
      // AREA
      // -------------------------

      window.area = new KeenDataviz({
          container: '.chart-c3-area',
          title: 'Area Chart',
          type: 'area'
        })
        .data(makeGroupedDataset())
        .render();

      window.areaMulti = new KeenDataviz({
          container: '.chart-c3-area-multi',
          title: 'Area Chart',
          type: 'area'
        })
        .call(function(){
          this.dataset.matrix = groupedMultiData;
        })
        .render();

      window.areaMultiStacked = new KeenDataviz({
          container: '.chart-c3-area-stacked',
          title: 'Area Chart stacked',
          type: 'area',
          stacked: true
        })
        .call(function(){
          this.dataset.matrix = groupedMultiData;
        })
        .render();

        window.areaMultiStacked = new KeenDataviz({
          container: '.chart-c3-area-percent',
          title: 'Area Chart Stacked 100%',
          type: 'area',
          stacking: 'percent'
        })
        .call(function(){
          this.dataset.matrix = groupedMultiData;
        })
        .render();

      window.areaTime = new KeenDataviz({
          container: '.chart-c3-area-time',
          title: 'Area Chart',
          type: 'area'
        })
        .call(function(){
          this.dataset.matrix = intervalDataMinutely;
        })
        .render();

      window.areaTimeMulti = new KeenDataviz({
          container: '.chart-c3-area-time-multi',
          title: 'Area Chart mutli',
          type: 'area'
        })
        .data(makeGroupedIntervalDataset())
        .render();

      window.areaTimeMultiStacked = new KeenDataviz({
          container: '.chart-c3-area-time-stacked',
          title: 'Area Chart multi stacked',
          type: 'area',
          stacked: true,
        })
        .data(makeGroupedIntervalDataset())
        .render();

        window.areaTimeMultiStacked = new KeenDataviz({
          container: '.chart-c3-area-time-percent',
          title: 'Area Chart multi stacked 100%',
          type: 'area',
          stacking: 'percent',
        })
        .data(makeGroupedIntervalDataset())
        .render();

      window.areaTimeMultiStacked = new KeenDataviz({
          container: '.chart-c3-area-time-range',
          title: 'Area Chart Range',
          type: 'area-range',
        })
        .call(function(){
          this.dataset.matrix = rangeData;
        })
        .render();

      // -------------------------
      // END AREA
      // -------------------------



      // -------------------------
      // AREA-SPLINE
      // -------------------------

      window.areaSpline = new KeenDataviz({
          container: '.chart-c3-area-spline',
          title: 'Area-Spline Chart',
          type: 'area-spline',
        })
        .data(makeGroupedDataset())
        .render();

      window.areaSplineMulti = new KeenDataviz({
          container: '.chart-c3-area-spline-multi',
          title: 'Area-Spline Chart',
          type: 'area-spline',
        })
        .call(function(){
          this.dataset.matrix = groupedMultiData;
        })
        .render();

      window.areaSplineMultiStacked = new KeenDataviz({
          container: '.chart-c3-area-spline-stacked',
          title: 'Area-Spline Chart stacked',
          type: 'area-spline',
          stacked: true
        })
        .call(function(){
          this.dataset.matrix = groupedMultiData;
        })
        .render();

      window.areaSplineMultiStacked = new KeenDataviz({
          container: '.chart-c3-area-spline-percent',
          title: 'Area-Spline Chart stacked 100%',
          type: 'area-spline',
          stacking: 'percent'
        })
        .call(function(){
          this.dataset.matrix = groupedMultiData;
        })
        .render();

      window.areaSplineTime = new KeenDataviz({
          container: '.chart-c3-area-spline-time',
          title: 'Area-Spline Chart',
          type: 'area-spline'
        })
        .call(function(){
          this.dataset.matrix = intervalDataSecondly;
        })
        .render();

      window.areaSplineTimeMulti = new KeenDataviz({
          container: '.chart-c3-area-spline-time-multi',
          title: 'Area-Spline Chart multi stacked',
          type: 'area-spline'
        })
        .call(function(){
          this.dataset.matrix = intervalMultiDataSecondly;
        })
        .render();

      window.areaSplineTimeMultiStacked = new KeenDataviz({
          container: '.chart-c3-area-spline-time-stacked',
          title: 'Area-Spline Chart multi stacked',
          stacked: true,
          type: 'area-spline'
        })
        .call(function(){
          this.dataset.matrix = intervalMultiDataSecondly;
        })
        .render();
      window.areaSplineTimeMultiStacked = new KeenDataviz({
          container: '.chart-c3-area-spline-time-percent',
          title: 'Area-Spline Chart multi stacked 100%',
          type: 'area-spline',
          stacking: 'percent',
        })
        .call(function(){
          this.dataset.matrix = intervalMultiDataSecondly;
        })
        .render();

      window.areaSplineTimeMultiStacked = new KeenDataviz({
          container: '.chart-c3-area-spline-time-range',
          title: 'Area-Range-Spline Chart',
          type: 'area-range-spline',
        })
        .call(function(){
          this.dataset.matrix = rangeData;
        })
        .render();

        window.metricComboChart = new KeenDataviz({
          container: '.chart-metric-combo',
          title: 'Metric Combo',
          type: 'metric-combo',
          metricResults: {
            previous: metricComboChartData.previous,
            current: metricComboChartData.current,
          },
          results: metricComboChartData.interval,
          tooltip: {
            format: {
              title: (d) => new Date(d).toLocaleString('en-US', { hour: 'numeric', minute: 'numeric', hour12: true })
            }
          }
        })
        .render();

      // -------------------------
      // END AREA-SPLINE
      // -------------------------



      // -------------------------
      // AREA-STEP
      // -------------------------

      window.areaStep = new KeenDataviz({
          container: '.chart-c3-area-step',
          title: 'Area-Step Chart multi',
          type: 'area-step',
        })
        .data(makeGroupedDataset())
        .render();

      window.areaStepMulti = new KeenDataviz({
          container: '.chart-c3-area-step-multi',
          title: 'Area-Step Chart multi',
          type: 'area-step',
        })
        .call(function(){
          this.dataset.matrix = groupedMultiData;
        })
        .render();

      window.areaStepMultiStacked = new KeenDataviz({
          container: '.chart-c3-area-step-stacked',
          title: 'Area-Step Chart multi stacked',
          type: 'area-step',
          stacked: true
        })
        .call(function(){
          this.dataset.matrix = groupedMultiData;
        })
        .render();
      
      window.areaStepMultiStacked = new KeenDataviz({
          container: '.chart-c3-area-step-percent',
          title: 'Area-Step Chart multi stacked 100%',
          type: 'area-step',
          stacking: 'percent'
        })
        .call(function(){
          this.dataset.matrix = groupedMultiData;
        })
        .render();

      window.areaStepTime = new KeenDataviz({
          container: '.chart-c3-area-step-time',
          title: 'Area-Step Chart',
          type: 'area-step'
        })
        .call(function(){
          this.dataset.matrix = intervalData;
        })
        .render();

      window.areaStepTimeMulti = new KeenDataviz({
          container: '.chart-c3-area-step-time-multi',
          title: 'Area-Step Chart multi',
          type: 'area-step'
        })
        .call(function(){
          this.dataset.matrix = intervalMultiData;
        })
        .render();

      window.areaStepTimeMultiStacked = new KeenDataviz({
          container: '.chart-c3-area-step-time-stacked',
          title: 'Area-Step Chart multi stacked',
          type: 'area-step',
          stacked: true
        })
        .call(function(){
          this.dataset.matrix = intervalMultiData;
        })
        .render();

      window.areaStepTimeMultiStacked = new KeenDataviz({
          container: '.chart-c3-area-step-time-percent',
          title: 'Area-Step Chart multi stacked 100%',
          type: 'area-step',
          stacking: 'percent'
        })
        .call(function(){
          this.dataset.matrix = intervalMultiData;
        })
        .render();

      window.areaStepTimeMultiStacked = new KeenDataviz({
          container: '.chart-c3-area-step-time-range',
          title: 'Area-Range-Step Chart',
          type: 'area-range-step',
        })
        .call(function(){
          this.dataset.matrix = rangeData;
        })
        .render();

      // -------------------------
      // END AREA-STEP
      // -------------------------


      // -------------------------
      // STEP
      // -------------------------

      window.step = new KeenDataviz({
          container: '.chart-c3-step',
          title: 'Step Chart',
          type: 'step'
        })
        .data(makeGroupedDataset())
        .render();

      window.stepMulti = new KeenDataviz({
          container: '.chart-c3-step-multi',
          title: 'Step Chart Multi',
          type: 'step'
        })
        .call(function(){
          this.dataset.matrix = groupedMultiData;
        })
        .render();

      window.stepMultiStacked = new KeenDataviz({
          container: '.chart-c3-step-stacked',
          title: 'Step Chart',
          type: 'step',
          stacked: true
        })
        .call(function(){
          this.dataset.matrix = groupedMultiData;
        })
        .render();

      window.stepTime = new KeenDataviz({
          container: '.chart-c3-step-time',
          title: 'Step Chart',
          type: 'step'
        })
        .call(function(){
          this.dataset.matrix = intervalData;
        })
        .render();

      window.stepTimeMulti = new KeenDataviz({
          container: '.chart-c3-step-time-multi',
          title: 'Step Chart mutli',
          type: 'step'
        })
        .call(function(){
          this.dataset.matrix = intervalMultiData;
        })
        .render();

      window.areaStepTimeMultiStacked = new KeenDataviz({
          container: '.chart-c3-step-time-stacked',
          title: 'Step Chart Multi Stacked',
          type: 'step',
          stacked: true
        })
        .call(function(){
          this.dataset.matrix = intervalMultiData;
        })
        .render();

      // -------------------------
      // END STEP
      // -------------------------


      function rand(a, b){
        return Math.floor((Math.random() * b) + a);
      }
      function gen(n){
        const arr = [ faker.internet.exampleEmail() ];
        for (let i = 0; i < n; i++) {
          arr.push(rand(0, 1000));
        }
        return arr;
      }

    }
    </script>
  </body>
</html>
